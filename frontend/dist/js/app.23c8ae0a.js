(function(t){function e(e){for(var r,i,c=e[0],o=e[1],l=e[2],f=0,d=[];f<c.length;f++)i=c[f],n[i]&&d.push(n[i][0]),n[i]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],r=!0,c=1;c<a.length;c++){var o=a[c];0!==n[o]&&(r=!1)}r&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var r={},n={app:0},s=[];function i(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=r,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(a,r,function(e){return t[e]}.bind(null,r));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},4302:function(t,e,a){},"459c":function(t,e,a){"use strict";var r=a("c15a"),n=a.n(r);n.a},"5c0b":function(t,e,a){"use strict";var r=a("5e27"),n=a.n(r);n.a},"5e27":function(t,e,a){},be71:function(t,e,a){"use strict";var r=a("4302"),n=a.n(r);n.a},c15a:function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"off-canvas off-canvas-sidebar-show",attrs:{id:"app"}},[a("Sidebar",{staticClass:"off-canvas-sidebar"}),a("a",{staticClass:"off-canvas-overlay",attrs:{href:"#close"}}),a("div",{staticClass:"off-canvas-content"},[a("div",{staticClass:"container-content"},[a("div",{staticClass:"container"},[t._m(0),a("h3",{staticClass:"s-title"},[t._v(t._s(this.$route.meta.title))]),a("router-view")],1)])])],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"off-canvas-toggle btn btn-link btn-action",attrs:{href:"#main-sidebar"}},[a("i",{staticClass:"icon icon-menu"})])}],i=a("d225"),c=a("308d"),o=a("6bb5"),l=a("4e2b"),u=a("9ab4"),f=a("60a3"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sidebar",attrs:{id:"main-sidebar"}},[t._m(0),a("ul",{staticClass:"nav"},[a("li",{staticClass:"nav-item"},[a("router-link",{attrs:{to:{name:"home"},exact:""}},[t._v("Home")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{attrs:{to:{name:"results"},exact:""}},[t._v("Resultados")])],1),a("li",{staticClass:"nav-item"},[a("a",{attrs:{href:"#"}},[t._v("Estratégias")]),a("ul",{staticClass:"nav"},[a("li",{staticClass:"nav-item"},[a("router-link",{attrs:{to:{name:"strat-run"},exact:""}},[t._v("Rodar")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{attrs:{to:{name:"strat-create"},exact:""}},[t._v("Criar")])],1)])])])])},m=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"brand"},[a("h5",[t._v("\n            Algo Monitor\n        ")])])}],v=function(t){function e(){return Object(i["a"])(this,e),Object(c["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),e}(f["b"]);v=u["a"]([Object(f["a"])({})],v);var p=v,b=p,h=(a("459c"),a("2877")),y=Object(h["a"])(b,d,m,!1,null,"6825a687",null),j=y.exports,O=function(t){function e(){return Object(i["a"])(this,e),Object(c["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),e}(f["b"]);O=u["a"]([Object(f["a"])({components:{Sidebar:j}})],O);var _=O,g=_,C=(a("5c0b"),Object(h["a"])(g,n,s,!1,null,null,null)),k=C.exports,w=a("8c4f"),x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"})},S=[],E=function(t){function e(){return Object(i["a"])(this,e),Object(c["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),e}(f["b"]);E=u["a"]([Object(f["a"])({components:{}})],E);var P=E,N=P,$=Object(h["a"])(N,x,S,!1,null,null,null),R=$.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"result-id"},[a("div",[t._v("\n\t\t  "+t._s(t.result?t.result:"")+"\n\t  ")])])},F=[],q=(a("96cf"),a("3b8d")),A=a("b0b4"),B=a("bc3a"),M=a.n(B),z=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(c["a"])(this,Object(o["a"])(e).apply(this,arguments)),t.result=null,t}return Object(l["a"])(e,t),Object(A["a"])(e,[{key:"created",value:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.id,t.next=3,M.a.get("/api/results/id/".concat(e));case 3:this.result=t.sent.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}]),e}(f["b"]);z=u["a"]([Object(f["a"])({})],z);var D=z,T=D,U=Object(h["a"])(T,I,F,!1,null,null,null),J=U.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"result-label"},[a("ul",t._l(t.results,function(e){return a("li",{key:e.id},[t._v("\n\t\t  \t\t"+t._s(e.id)+" | "+t._s(e.label)+"\n\t\t\t")])}),0)])},G=[],K=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(c["a"])(this,Object(o["a"])(e).apply(this,arguments)),t.results=[],t}return Object(l["a"])(e,t),Object(A["a"])(e,[{key:"created",value:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.label,t.next=3,M.a.get("/api/results/label/".concat(e));case 3:this.results=t.sent.data;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}]),e}(f["b"]);K=u["a"]([Object(f["a"])({})],K);var L=K,Q=L,V=Object(h["a"])(Q,H,G,!1,null,null,null),W=V.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"result-list"},[a("ul",t._l(t.results,function(e){return a("li",{key:e.id},[a("router-link",{attrs:{to:{name:"result-id",params:{id:e.id}}}},[t._v(t._s(e.id))]),t._v(" |\n\t\t\t"),a("router-link",{attrs:{to:{name:"result-label",params:{label:e.label}}}},[t._v(t._s(e.label))])],1)}),0)])},Y=[],Z=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(c["a"])(this,Object(o["a"])(e).apply(this,arguments)),t.results=[],t}return Object(l["a"])(e,t),Object(A["a"])(e,[{key:"created",value:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,M.a.get("/api/results");case 2:this.results=t.sent.data;case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}]),e}(f["b"]);Z=u["a"]([Object(f["a"])({})],Z);var tt=Z,et=tt,at=Object(h["a"])(et,X,Y,!1,null,null,null),rt=at.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"strat-run"},[a("form",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[t._m(0),a("div",{staticClass:"col-8 col-sm-12"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedId,expression:"selectedId"}],attrs:{id:"stratSelect",name:"stratSelect"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.selectedId=e.target.multiple?a:a[0]},t.onStratSelect]}},t._l(t.strats,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t")])}),0)])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.selectedId,expression:"selectedId"}],staticClass:"form-group"},[t._m(1),t._m(2)]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.selectedId,expression:"selectedId"}],staticClass:"form-group"},[a("div",{staticClass:"col-ml-auto col-8 col-sm-12"},[a("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"Iniciar"},on:{click:t.onSubmit}})])])])])},st=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-4 col-sm-12"},[a("label",{staticClass:"form-label",attrs:{for:"stratSelect"}},[t._v("Estratégia")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-4 col-sm-12"},[a("label",{staticClass:"form-label",attrs:{for:"stratParams"}},[t._v("Parâmetros")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-8 col-sm-12"},[a("div",{staticClass:"jsoneditor",attrs:{id:"stratParams"}})])}],it=(a("3b2b"),a("7618")),ct=(a("5df3"),a("4f7f"),a("75fc")),ot=(a("ac6a"),a("456d"),a("dcf5")),lt=a.n(ot),ut=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(c["a"])(this,Object(o["a"])(e).apply(this,arguments)),t.strats=[],t.selectedId=null,t.selectedStrat=null,t}return Object(l["a"])(e,t),Object(A["a"])(e,[{key:"created",value:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,M.a.get("/api/strat/list");case 2:this.strats=t.sent.data;case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"onStratSelect",value:function(){var t=this;this.selectedStrat=this.strats.reduce(function(e,a){return a.id==t.selectedId?a:e},null);var e=this.selectedStrat.params,a=this.createSchemaProps(e);console.log(a),this.editor&&this.editor.destroy();var r=document.querySelector("#stratParams"),n={mode:"tree",modes:["code","text","tree"],search:!1,mainMenuBar:!0,statusBar:!0,navigationBar:!1,schema:{title:"Parâmetros",type:"object",additionalProperties:!1,required:Object.keys(e),properties:a}},s=e;this.editor=new lt.a(r,n,s)}},{key:"createSchemaProps",value:function(t){var e=this,a={};for(var r in t){var n=t[r],s=this.betterCast(n);a[r]={type:[s]},"object"==s?(a[r]["additionalProperties"]=!1,a[r]["required"]=Object.keys(n),a[r].properties=this.createSchemaProps(n)):"array"==s&&(a[r]["additionalItems"]=!0,a[r]["items"]={type:Object(ct["a"])(new Set(n.reduce(function(t,a){return[].concat(Object(ct["a"])(t),[e.betterCast(a)])},[])))})}return a}},{key:"onSubmit",value:function(){var t=Object(q["a"])(regeneratorRuntime.mark(function t(){var e,a,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.editor.get(),a=this.editor.validateSchema(e),!a){t.next=7;break}return r={strat_id:this.selectedId,params:[e]},t.next=6,M.a.post("/api/strat/run",r);case 6:t.sent.data;case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"betterCast",value:function(t){if(this.isString(t))return"string";if(this.isNumber(t))return"number";if(this.isArray(t))return"array";if(this.isFunction(t))return"function";if(this.isObject(t))return"object";if(this.isClass(t))return"class";if(this.isNull(t))return"null";if(this.isUndefined(t))return"undefined";if(this.isBoolean(t))return"boolean";if(this.isRegExp(t))return"regexp";if(this.isError(t))return"error";if(this.isDate(t))return"date";if(this.isSymbol(t))return"symbol";throw"Unexpected Type"}},{key:"isString",value:function(t){return"string"===typeof t||t instanceof String}},{key:"isNumber",value:function(t){return"number"===typeof t&&isFinite(t)}},{key:"isArray",value:function(t){return t&&"object"===Object(it["a"])(t)&&t.constructor===Array}},{key:"isFunction",value:function(t){return"function"===typeof t}},{key:"isObject",value:function(t){return t&&"object"===Object(it["a"])(t)&&t.constructor===Object}},{key:"isClass",value:function(t){return t&&"object"===Object(it["a"])(t)&&t.constructor===Function}},{key:"isNull",value:function(t){return null===t}},{key:"isUndefined",value:function(t){return"undefined"===typeof t}},{key:"isBoolean",value:function(t){return"boolean"===typeof t}},{key:"isRegExp",value:function(t){return t&&"object"===Object(it["a"])(t)&&t.constructor===RegExp}},{key:"isError",value:function(t){return t instanceof Error&&"undefined"!==typeof t.message}},{key:"isDate",value:function(t){return t instanceof Date}},{key:"isSymbol",value:function(t){return"symbol"===Object(it["a"])(t)}}]),e}(f["b"]);ut=u["a"]([Object(f["a"])({})],ut);var ft=ut,dt=ft,mt=Object(h["a"])(dt,nt,st,!1,null,null,null),vt=mt.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"strat-create"},[a("form",{staticClass:"form-horizontal"},[t._m(0),t._m(1),t._m(2),a("div",{staticClass:"form-group"},[t._m(3),a("div",{staticClass:"col-8 col-sm-12 text-left"},[a("label",{staticClass:"btn",attrs:{for:"stratFile"}},[t._v("Escolher Arquivo")]),a("span",{attrs:{id:"fileName"}},[t._v(t._s(t.fileName))]),a("input",{staticClass:"d-none",attrs:{type:"file",id:"stratFile",name:"stratFile",accept:".zip,.rar,.7zip"},on:{change:t.onUpload}})])]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-ml-auto col-8 col-sm-12"},[a("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"Enviar"},on:{click:t.onSubmit}})])])])])},bt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-4 col-sm-12"},[a("label",{staticClass:"form-label",attrs:{for:"stratName"}},[t._v("Nome da Estratégia")])]),a("div",{staticClass:"col-8 col-sm-12"},[a("input",{staticClass:"form-input",attrs:{type:"text",id:"stratName",name:"stratName",placeholder:"My Strategy"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-4 col-sm-12"},[a("label",{staticClass:"form-label",attrs:{for:"entryPath"}},[t._v("Arquivo de Entrada")])]),a("div",{staticClass:"col-8 col-sm-12"},[a("input",{staticClass:"form-input",attrs:{type:"text",id:"entryPath",name:"entryPath",placeholder:"start.py"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-4 col-sm-12"},[a("label",{staticClass:"form-label",attrs:{for:"stratParams"}},[t._v("Parâmetros")])]),a("div",{staticClass:"col-8 col-sm-12"},[a("div",{staticClass:"jsoneditor",attrs:{id:"stratParams"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-4 col-sm-12"},[a("label",{staticClass:"form-label",attrs:{for:"stratParams"}},[t._v("Arquivo (zip) da Estratégia")])])}],ht=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(c["a"])(this,Object(o["a"])(e).apply(this,arguments)),t.fileName="",t}return Object(l["a"])(e,t),Object(A["a"])(e,[{key:"mounted",value:function(){var t=document.querySelector("#stratParams"),e={mode:"tree",modes:["code","text","tree"],search:!1,mainMenuBar:!0,statusBar:!0,navigationBar:!1,schema:{title:"Parâmetros",type:"object"},onEditable:function(t){return!0}},a={};this.editor=new lt.a(t,e,a)}},{key:"getInputFileName",value:function(t){var e=t.value,a=e.indexOf("\\")>=0?e.lastIndexOf("\\"):e.lastIndexOf("/"),r=e.substring(a);return 0!==r.indexOf("\\")&&0!==r.indexOf("/")||(r=r.substring(1)),r}},{key:"onUpload",value:function(){var t=document.querySelector("#stratFile");this.fileName=this.getInputFileName(t)}},{key:"onSubmit",value:function(){var t=new FormData,e=document.querySelector("#stratName"),a=document.querySelector("#entryPath"),r=this.editor.get(),n=document.querySelector("#stratFile"),s=this.editor.validateSchema(r),i=n&&n.files&&n.files.length>0;s&&i?(t.append("strat_name",e.value),t.append("entry_path",a.value),t.append("params",JSON.stringify(r)),t.append("file",n.files[0]),M.a.post("/api/strat/upload",t,{headers:{"Content-Type":"multipart/form-data"}})):alert("Dados inválidos!")}}]),e}(f["b"]);ht=u["a"]([Object(f["a"])({})],ht);var yt=ht,jt=yt,Ot=(a("be71"),Object(h["a"])(jt,pt,bt,!1,null,"a7ebb806",null)),_t=Ot.exports;r["a"].use(w["a"]);var gt=new w["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",meta:{title:"Home"},component:R},{path:"/result/id/:id",name:"result-id",meta:{title:"Resultado"},component:J},{path:"/result/label/:label",name:"result-label",meta:{title:"Resultado"},component:W},{path:"/results",name:"results",meta:{title:"Resultados"},component:rt},{path:"/strat/run",name:"strat-run",meta:{title:"Rodar Estratégia"},component:vt},{path:"/strat/create",name:"strat-create",meta:{title:"Criar Estratégia"},component:_t}]}),Ct=a("2f62");r["a"].use(Ct["a"]);var kt=new Ct["a"].Store({state:{},mutations:{},actions:{}}),wt=a("9483");Object(wt["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),r["a"].config.productionTip=!1,new r["a"]({router:gt,store:kt,render:function(t){return t(k)}}).$mount("#app")}});
//# sourceMappingURL=app.23c8ae0a.js.map